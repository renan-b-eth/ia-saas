{% extends "base.html" %}
{% block content %}
<div class="min-h-screen flex items-center justify-center px-6 pt-20 bg-black">
    <div class="w-full max-w-md">
        
        <div id="step-1" class="space-y-8 animate__animated animate__fadeIn">
            <h2 class="text-5xl font-black tracking-tighter leading-none text-white">IDENTIFIQUE <br> SUA LOJA.</h2>
            <div class="space-y-4">
                <input type="text" id="company_name" placeholder="NOME DA EMPRESA" class="w-full bg-white/5 border border-white/10 rounded-2xl p-5 text-white font-bold outline-none focus:border-blue-600 transition">
                <input type="url" id="maps_url" placeholder="URL DO GOOGLE MAPS" class="w-full bg-white/5 border border-white/10 rounded-2xl p-5 text-white font-bold outline-none focus:border-blue-600 transition">
            </div>
            <button onclick="goToStep(2)" class="w-full bg-white text-black font-black p-5 rounded-2xl text-lg hover:bg-blue-600 hover:text-white transition-all">PRÓXIMO</button>
        </div>

        <div id="step-2" class="hidden space-y-8 animate__animated animate__fadeIn">
            <h2 class="text-5xl font-black tracking-tighter leading-none text-white">VALIDAÇÃO <br> PROPRIETÁRIO.</h2>
            <p class="text-gray-500 font-medium">Informe o WhatsApp da loja. Enviaremos um código de segurança para validar sua conta LLC.</p>
            <input type="text" id="whatsapp" placeholder="DDD + NÚMERO (Ex: 11999999999)" class="w-full bg-white/5 border border-white/10 rounded-2xl p-5 text-white font-bold outline-none">
            <button onclick="sendCode()" class="w-full bg-blue-600 text-white font-black p-5 rounded-2xl text-lg shadow-xl shadow-blue-600/20">RECEBER CÓDIGO</button>
        </div>

        <div id="step-3" class="hidden space-y-8 animate__animated animate__fadeIn">
            <h2 class="text-5xl font-black tracking-tighter leading-none text-white">INSIRA O <br> TOKEN.</h2>
            <div class="flex justify-between gap-2">
                <input type="text" maxlength="6" id="token" class="w-full bg-white/5 border border-white/10 rounded-2xl p-6 text-center text-4xl font-black tracking-[0.5em] text-blue-500 outline-none">
            </div>
            <button onclick="finalVerify()" class="w-full bg-white text-black font-black p-5 rounded-2xl text-lg">ATIVAR CONTA PRO</button>
        </div>

    </div>
</div>

<script>
    function goToStep(step) {
        document.getElementById('step-1').classList.add('hidden');
        document.getElementById('step-2').classList.add('hidden');
        document.getElementById('step-3').classList.add('hidden');
        document.getElementById('step-' + step).classList.remove('hidden');
    }

    function sendCode() {
        const phone = document.getElementById('whatsapp').value;
        // Aqui você chamará a API no app.py para enviar via Z-API/Evolution
        console.log("Enviando código para " + phone);
        goToStep(3);
    }

    function finalVerify() {
        // Lógica final de registro
        alert("Conta Validada! Redirecionando...");
    }
</script>
{% endblock %}